version: 1.0
runtime: python311

build:
  commands:
    build:
      # Upgrade pip
      - python3 -m pip install --upgrade pip
      # Install Gunicorn and Uvicorn explicitly
      - python3 -m pip install "uvicorn[standard]" gunicorn
      # Install all dependencies from requirements.txt
      - python3 -m pip install -r requirements.txt

run:
  command: python3 -m gunicorn -w 4 -k uvicorn.workers.UvicornWorker sentiment:app --bind 0.0.0.0:8080